<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ilayda ‚ù§Ô∏è</title>

<style>
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background: linear-gradient(135deg,#f8cdda,#e1d5ff);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
  }

  .card{
    width:90%;
    max-width:420px;
    background:#fff;
    border-radius:26px;
    padding:46px 22px 40px;
    text-align:center;
    box-shadow:0 18px 50px rgba(0,0,0,.12);
    position:relative;
  }

  h1{
    margin:0 0 18px;
    font-size:34px;
    font-weight:800;
  }

  .question{
    font-size:24px;
    font-weight:800;
    line-height:1.25;
    margin:0 0 34px;
  }

  .buttonsArea{
    height:110px;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:18px;
    position:relative;
  }

  button{
    border:none;
    border-radius:999px;
    padding:16px 36px;
    font-size:18px;
    cursor:pointer;
    transition: transform .2s ease, filter .2s ease;
    will-change: transform;
  }

  #yes{
    background:#ff2f75;
    color:#fff;
  }

  #nein{
    background:#111;
    color:#fff;
    padding:18px 40px; /* am Anfang etwas gr√∂√üer */
  }

  /* Meme: mittig, gro√ü, kurz */
  #meme{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) scale(.8);
    opacity:0;
    width:260px;
    max-width:70vw;
    transition: opacity .2s ease, transform .2s ease;
    z-index:9999;
    pointer-events:none;
  }

  #result{
    display:none;
    margin-top:18px;
    font-size:30px;
    font-weight:900;
    line-height:1.2;
  }

  /* Finale Partikel */
  .confetti{
    position:fixed;
    top:-12px;
    width:10px;
    height:10px;
    border-radius:2px;
    animation:fall 3.2s linear forwards;
    z-index:5000;
    opacity:.95;
  }

  .heart{
    position:fixed;
    top:-20px;
    font-size:22px;
    animation:fall 3.2s linear forwards;
    z-index:5000;
    opacity:.9;
  }

  @keyframes fall{
    to{
      transform: translateY(115vh) rotate(720deg);
      opacity: 1;
    }
  }

  /* Finale Ergebnis wirkt nicer */
  .pop{
    animation: pop .35s ease both;
  }
  @keyframes pop{
    from{ transform: scale(.96); opacity:.0; }
    to{ transform: scale(1); opacity:1; }
  }
</style>
</head>

<body>

<img id="meme" src="https://i.imgur.com/AexB9oC.jpeg" alt="meme">

<div class="card" id="card">
  <h1 id="title">Ilayda ‚ù§Ô∏è</h1>
  <div class="question" id="question">Willst du mein Valentinstags-Date sein? ‚ù§Ô∏è</div>

  <div class="buttonsArea" id="buttonsArea">
    <button id="yes">Ja üòç</button>
    <button id="nein">Nein üôÇ</button>
  </div>

  <div id="result"></div>
</div>

<script>
  const yes = document.getElementById("yes");
  const nein = document.getElementById("nein");
  const meme = document.getElementById("meme");
  const card = document.getElementById("card");
  const buttonsArea = document.getElementById("buttonsArea");
  const title = document.getElementById("title");
  const question = document.getElementById("question");
  const result = document.getElementById("result");

  let clicks = 0;
  let neinIsFloating = false;

  const texts = [
    "√úberleg nochmal üòå",
    "Ich bring auch Snacks üòâ",
    "Letzte Chance"
  ];

  // macht "Nein" erst NACH dem ersten Klick zu fixed -> dadurch Start NICHT verschoben
  function makeNeinFloat() {
    if (neinIsFloating) return;
    neinIsFloating = true;

    const r = nein.getBoundingClientRect();
    nein.style.position = "fixed";
    nein.style.left = r.left + "px";
    nein.style.top = r.top + "px";
    nein.style.margin = "0";
    nein.style.zIndex = "6000";
  }

  // nur hoch/runter, extrem (ganzer Screen), aber bleibt klickbar
  function moveNeinVerticalExtreme() {
    const paddingTop = 10;
    const paddingBottom = 10;
    const maxY = window.innerHeight - nein.offsetHeight - paddingBottom;
    const y = paddingTop + Math.random() * (maxY - paddingTop);
    nein.style.top = y + "px";
  }

  function showMeme2s() {
    meme.style.opacity = "1";
    meme.style.transform = "translate(-50%,-50%) scale(1)";
    setTimeout(() => {
      meme.style.opacity = "0";
      meme.style.transform = "translate(-50%,-50%) scale(.8)";
    }, 2000);
  }

  function turnNeinIntoBigJaInCard() {
    // Ja weg -> kein Overlap mehr
    yes.style.display = "none";

    // Nein zur√ºck IN die Karte (kein overlay √ºber √úberschrift)
    nein.style.position = "absolute";
    nein.style.left = "50%";
    nein.style.top = "50%";
    nein.style.transform = "translate(-50%,-50%) scale(2.2)";
    nein.style.background = "#ff2f75";
    nein.textContent = "Ja üíò";
    nein.style.zIndex = "10";
  }

  function finalYes() {
    // alles sauber weg
    title.style.display = "none";
    question.style.display = "none";
    buttonsArea.style.display = "none";
    meme.style.opacity = "0";

    result.classList.add("pop");
    result.style.display = "block";
    result.innerHTML = "YESSSS ü•≥<br><br>Samstag 15 Uhr ¬∑ Eichendorffring";

    launchConfettiNice();
    launchHeartsNice();
  }

  nein.addEventListener("click", () => {
    clicks++;

    // ab erstem Klick floaten + bewegen
    makeNeinFloat();

    if (clicks <= 3) {
      nein.textContent = texts[clicks - 1];
      moveNeinVerticalExtreme();
      return;
    }

    if (clicks === 4) {
      showMeme2s();
      moveNeinVerticalExtreme();
      return;
    }

    if (clicks === 5) {
      // Nein wird zu gro√üem Ja IN DER KARTE
      // (wichtig: in buttonsArea positionieren)
      buttonsArea.style.position = "relative";
      buttonsArea.appendChild(nein);
      turnNeinIntoBigJaInCard();

      // Ab jetzt klickt man nur noch diesen gro√üen Ja
      nein.onclick = finalYes;
    }
  });

  yes.addEventListener("click", finalYes);

  function launchConfettiNice() {
    for (let i = 0; i < 90; i++) {
      const c = document.createElement("div");
      c.className = "confetti";
      c.style.left = (Math.random() * 100) + "vw";
      c.style.background = `hsl(${Math.random() * 360}, 100%, 55%)`;
      c.style.animationDuration = (2.6 + Math.random() * 1.2) + "s";
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 3800);
    }
  }

  function launchHeartsNice() {
    for (let i = 0; i < 24; i++) {
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = "‚ù§Ô∏è";
      h.style.left = (Math.random() * 100) + "vw";
      h.style.animationDuration = (2.8 + Math.random() * 1.2) + "s";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 3800);
    }
  }

  // Falls Bildschirm gedreht wird: Nein bleibt im Screen
  window.addEventListener("resize", () => {
    if (!neinIsFloating) return;
    // clamp
    const maxY = window.innerHeight - nein.offsetHeight - 10;
    const curTop = parseFloat(nein.style.top || "0");
    nein.style.top = Math.max(10, Math.min(maxY, curTop)) + "px";
  });
</script>

</body>
</html>